<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 变量提升
    // 预解析：
    // 遇到 var 就提前声明，遇到 funtion 整个函数体全部提前

    console.log(username);
    var username = 'kk'
    fun()
    function fun(){
      console.log('fun()');
    }

    // 解析之后的代码---------------------------------
    var username
    function fun(){
      console.log('fun()');
    }
    console.log(username);  // undefined
    username = 'kk'
    fun() // 'fun()'


    // 执行上下文 执行上下文对象
    /**
     * 执行上下文（EC）
     * 理解：代码执行的环境
     * 时机：代码正式执行之前会进入到执行环境
     * 代码定义产生作用域
     * 工作：
     *   1.创建变量对象
     *     1.1变量
     *     1.2函数及函数参数
     *     1.3全局：window
     *     1.4局部：没有实际指向，抽象的，确实存在
     *   2.确认this指向
     *     2.1全局 window
     *     2.2局部 调用其的对象
     *   3.创建作用域链
     *     3.1父级作用域链 + 当前的变量对象
     * */ 
    
    // 执行环境,只有执行环境中的全部代码执行完毕后,它的变量和函数才会被销毁
    // 由于这个原因,所以尽量不要声明全局变量和函数,因为会占用内存
    // 如果必须声明全局变量或函数,在使用完毕后,尽可能的把他们置为null,以可以被回收掉,这叫解除引用
    
  </script>
</body>
</html>